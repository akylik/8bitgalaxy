{"ast":null,"code":"import Card from \"./Card.js\";\nimport Direction from \"./Direction.js\";\n\nclass Pile {\n  constructor(type, direction) {\n    this._type = type;\n    this._direction = Direction.assert(direction);\n    this.absentCard = Card.assert(\"absent \" + type);\n    this._cards = [this.absentCard];\n  }\n\n  get cards() {\n    return this._cards;\n  }\n\n  get direction() {\n    return this._direction;\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  get size() {\n    return this._cards.length;\n  }\n\n  get top() {\n    return this._cards[this.size - 1];\n  }\n\n  get(i) {\n    var _this$_cards$i;\n\n    return (_this$_cards$i = this._cards[i]) !== null && _this$_cards$i !== void 0 ? _this$_cards$i : i === 0 ? this.top : null;\n  }\n\n  removeCard(card) {\n    return this._cards.reduce((acc, c) => {\n      if (card === c) {\n        acc.splice(-1, 1);\n      }\n\n      return acc;\n    }, this._cards);\n  }\n\n  putUnder(card) {\n    this._cards.unshift(Card.assert(card));\n  }\n\n  put(card) {\n    this._cards.push(Card.assert(card, this, this.label));\n  }\n\n}\n\nexport default Pile;","map":{"version":3,"sources":["C:/Users/a_kyl/Documents/GitHub/8bitgalaxy/src/Model/Pile.js"],"names":["Card","Direction","Pile","constructor","type","direction","_type","_direction","assert","absentCard","_cards","cards","size","length","top","get","i","removeCard","card","reduce","acc","c","splice","putUnder","unshift","put","push","label"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,SAAP,MAAsB,gBAAtB;;AAGA,MAAMC,IAAN,CAAW;AACTC,EAAAA,WAAW,CAACC,IAAD,EAAOC,SAAP,EAAkB;AAC3B,SAAKC,KAAL,GAAaF,IAAb;AACA,SAAKG,UAAL,GAAkBN,SAAS,CAACO,MAAV,CAAiBH,SAAjB,CAAlB;AACA,SAAKI,UAAL,GAAkBT,IAAI,CAACQ,MAAL,CAAY,YAAYJ,IAAxB,CAAlB;AACA,SAAKM,MAAL,GAAc,CAAC,KAAKD,UAAN,CAAd;AACD;;AAEQ,MAALE,KAAK,GAAG;AACV,WAAO,KAAKD,MAAZ;AACD;;AACY,MAATL,SAAS,GAAG;AACd,WAAO,KAAKE,UAAZ;AACD;;AACO,MAAJH,IAAI,GAAG;AACT,WAAO,KAAKE,KAAZ;AACD;;AACO,MAAJM,IAAI,GAAG;AACT,WAAO,KAAKF,MAAL,CAAYG,MAAnB;AACD;;AACM,MAAHC,GAAG,GAAG;AACR,WAAO,KAAKJ,MAAL,CAAY,KAAKE,IAAL,GAAY,CAAxB,CAAP;AACD;;AAEDG,EAAAA,GAAG,CAACC,CAAD,EAAI;AAAA;;AACL,6BAAO,KAAKN,MAAL,CAAYM,CAAZ,CAAP,2DAA0BA,CAAC,KAAK,CAAN,GAAU,KAAKF,GAAf,GAAqB,IAA/C;AACD;;AAEDG,EAAAA,UAAU,CAACC,IAAD,EAAO;AACf,WAAO,KAAKR,MAAL,CAAYS,MAAZ,CAAmB,CAACC,GAAD,EAAMC,CAAN,KAAY;AACpC,UAAIH,IAAI,KAAKG,CAAb,EAAgB;AACdD,QAAAA,GAAG,CAACE,MAAJ,CAAW,CAAC,CAAZ,EAAe,CAAf;AACD;;AACD,aAAOF,GAAP;AACD,KALM,EAKJ,KAAKV,MALD,CAAP;AAMD;;AAEDa,EAAAA,QAAQ,CAACL,IAAD,EAAO;AACb,SAAKR,MAAL,CAAYc,OAAZ,CAAoBxB,IAAI,CAACQ,MAAL,CAAYU,IAAZ,CAApB;AACD;;AAEDO,EAAAA,GAAG,CAACP,IAAD,EAAO;AACR,SAAKR,MAAL,CAAYgB,IAAZ,CAAiB1B,IAAI,CAACQ,MAAL,CAAYU,IAAZ,EAAkB,IAAlB,EAAwB,KAAKS,KAA7B,CAAjB;AACD;;AA3CQ;;AA8CX,eAAezB,IAAf","sourcesContent":["import Card from \"./Card.js\";\r\nimport Direction from \"./Direction.js\";\r\n\r\n\r\nclass Pile {\r\n  constructor(type, direction) {\r\n    this._type = type;\r\n    this._direction = Direction.assert(direction);\r\n    this.absentCard = Card.assert(\"absent \" + type);\r\n    this._cards = [this.absentCard];\r\n  }\r\n\r\n  get cards() {\r\n    return this._cards;\r\n  }\r\n  get direction() {\r\n    return this._direction;\r\n  }\r\n  get type() {\r\n    return this._type;\r\n  }\r\n  get size() {\r\n    return this._cards.length;\r\n  }\r\n  get top() {\r\n    return this._cards[this.size - 1];\r\n  }\r\n\r\n  get(i) {\r\n    return this._cards[i] ?? (i === 0 ? this.top : null);\r\n  }\r\n\r\n  removeCard(card) {\r\n    return this._cards.reduce((acc, c) => {\r\n      if (card === c) {\r\n        acc.splice(-1, 1);\r\n      }\r\n      return acc;\r\n    }, this._cards);\r\n  }\r\n\r\n  putUnder(card) {\r\n    this._cards.unshift(Card.assert(card));\r\n  }\r\n\r\n  put(card) {\r\n    this._cards.push(Card.assert(card, this, this.label));\r\n  }\r\n}\r\n\r\nexport default Pile;\r\n"]},"metadata":{},"sourceType":"module"}