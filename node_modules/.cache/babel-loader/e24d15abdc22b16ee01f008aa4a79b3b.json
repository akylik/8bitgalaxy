{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\a_kyl\\\\Documents\\\\GitHub\\\\8bitgalaxy\\\\src\\\\components\\\\ui\\\\StarView.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport styled from \"styled-components\";\nimport usePosition from \"../../state/hooks/usePosition\";\nimport CardView from \"./CardView\";\nimport { observer } from \"mobx-react-lite\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst View = styled.div`\n  left: ${({\n  left\n}) => left + \"px\"};\n  top: ${({\n  top\n}) => top + \"px\"};\n\n`;\n_c = View;\nconst OverView = styled.div`\n  // border-color: ${({\n  isOver\n}) => isOver ? \"red\" : \"transparent\"};\n  border-width: 1px;\n  border-style: solid;\n\n  &:before, &:after {\n    // border-color: ${({\n  isOver\n}) => isOver ? \"red\" : \"transparent\"};\n    border-width: 1px;\n    border-style: solid;\n  }\n`;\n_c2 = OverView;\n\nconst StarView = ({\n  star\n}) => {\n  _s();\n\n  const [, m] = usePosition();\n  const indent = star.y % 2 ? 0 : 7.75 * m;\n  const [{\n    isOver,\n    canDrop,\n    hover\n  }, drop] = useDrop(() => ({\n    accept: \"CARD\",\n\n    // drop: (item, monitor) => {\n    //   // let a = monitor.getItem();\n    //   // item.card.destination.removeCard(item.card);\n    //   // star.put(item.card, slot);\n    //   return {\n    //     place: star,\n    //     name: name,\n    //   };\n    // },\n    hover(item, monitor) {\n      console.log('Hover');\n    },\n\n    collect: monitor => ({\n      isOver: monitor.isOver() // isOver: !!monitor.isOver\n\n    })\n  }), [star]);\n  let isActive = hover;\n  console.log(hover);\n  let borderColor = 'transparent';\n\n  if (isActive === true) {\n    borderColor = 'red';\n    console.log(isActive);\n  } // const [{isOver}, dropRef] = useDrop(() => ({\n  //   accept: \"CARD\",\n  //   drop: (item, monitor) => {\n  //     // let a = monitor.getItem();\n  //     // const parent = getParent(item.card, 2);\n  //     // parent.remove(item.card);\n  //     // debugger\n  //     // star.put(item.card, name);\n  //     // item.card.destination.removeCard(item.card);\n  //     // star.put(item.card);\n  //     return {\n  //       place: star,\n  //     };\n  //   },\n  //   collect: monitor => ({\n  //     isOver: !!monitor.isOver(),\n  //   }),\n  // }), [star.x, star.y]);\n\n\n  return /*#__PURE__*/_jsxDEV(View, {\n    className: \"Star\",\n    left: star.x * m * 15.5 + indent,\n    top: star.y * m * 13.4 + m,\n    children: [/*#__PURE__*/_jsxDEV(OverView, {\n      className: \"hexagon\",\n      ref: drop //  isOver={isOver} \n      ,\n      style: {\n        borderColor\n      },\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inner lni lni-sun\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardViewer, {\n      card: star.base(0),\n      y: 3,\n      x: 0,\n      slot: 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardViewer, {\n      card: star.base(1),\n      y: 4,\n      x: 0,\n      slot: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardViewer, {\n      card: star.base(2),\n      y: 5,\n      x: 0,\n      slot: 2\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardViewer, {\n      card: star.ship(0),\n      y: 6,\n      x: 0,\n      slot: 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardViewer, {\n      card: star.ship(1),\n      y: 6,\n      x: 1,\n      slot: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardViewer, {\n      card: star.ship(2),\n      y: 6,\n      x: 2,\n      slot: 2\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardViewer, {\n      card: star.ship(3),\n      y: 6,\n      x: 3,\n      slot: 3\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardViewer, {\n      card: star.colony(0),\n      y: 3,\n      x: 8,\n      slot: 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardViewer, {\n      card: star.colony(1),\n      y: 4,\n      x: 8,\n      slot: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardViewer, {\n      card: star.colony(2),\n      y: 5,\n      x: 8,\n      slot: 2\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardViewer, {\n      card: star.hero(0),\n      y: 7,\n      x: 7,\n      slot: 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardViewer, {\n      card: star.hero(1),\n      y: 8,\n      x: 7,\n      slot: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardViewer, {\n      card: star.hero(2),\n      y: 9,\n      x: 7,\n      slot: 2\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardViewer, {\n      card: star.hero(3),\n      y: 10,\n      x: 7,\n      slot: 3\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n\n_s(StarView, \"L0qWvGJP0h+J8A0nT0We7RlWbng=\", false, function () {\n  return [usePosition, useDrop];\n});\n\n_c3 = StarView;\nconst CardViewer = observer(_c4 = ({\n  card,\n  y,\n  x,\n  slot\n}) => {\n  if (card.isAbsent) {\n    // return \"\";\n    return /*#__PURE__*/_jsxDEV(Slot, {\n      y: y,\n      x: x,\n      card: card,\n      slot: slot\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(CardView, {\n    card: card,\n    y: y,\n    x: x\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n});\n_c5 = CardViewer;\nconst SlotView = styled.div`\n  position: absolute;\n  border-width: 4px;\n  border-style: solid;\n  border-color: ${({\n  isOver\n}) => isOver ? \"white\" : \"transparent\"};\n  top: ${({\n  y\n}) => y + \"px\"};\n  left: ${({\n  x\n}) => x + \"px\"};\n  z-index: 2;\n  border-radius: 20px;\n  width: 300px;\n  height: 200px;\n`; // const Slot = observer(({name, star, y, x}) => {\n\n_c6 = SlotView;\nconst Slot = observer(_c7 = _s2(({\n  name,\n  star,\n  y,\n  x,\n  card,\n  slot\n}) => {\n  _s2();\n\n  // console.log(star.bases)\n  const [p] = usePosition(y, x);\n  const [{\n    isOver\n  }, dropRef] = useDrop(() => ({\n    accept: \"CARD\",\n    drop: (item, monitor) => {\n      let a = monitor.getItem(); // const parent = getParent(item.card, 2);\n      // parent.remove(item.card);\n      // debugger\n\n      item.card.destination.removeCard(item.card);\n      star.put(item.card, slot);\n      return {\n        place: star,\n        name: name\n      };\n    },\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  }), [x, y]);\n  return /*#__PURE__*/_jsxDEV(SlotView, {\n    ref: dropRef,\n    className: card.Name,\n    y: p.y - 0,\n    x: 0 + p.x,\n    isOver: isOver\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 5\n  }, this) //  <SlotView ref={dropRef} className={name} y={p.y - 94} x={18 + p.x} isOver={isOver} />\n  ;\n}, \"0Jmud9YATBFvj8LeIkcLgSpgwF8=\", false, function () {\n  return [usePosition, useDrop];\n}));\n_c8 = Slot;\nexport default _c9 = observer(StarView);\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n\n$RefreshReg$(_c, \"View\");\n$RefreshReg$(_c2, \"OverView\");\n$RefreshReg$(_c3, \"StarView\");\n$RefreshReg$(_c4, \"CardViewer$observer\");\n$RefreshReg$(_c5, \"CardViewer\");\n$RefreshReg$(_c6, \"SlotView\");\n$RefreshReg$(_c7, \"Slot$observer\");\n$RefreshReg$(_c8, \"Slot\");\n$RefreshReg$(_c9, \"%default%\");","map":{"version":3,"sources":["C:/Users/a_kyl/Documents/GitHub/8bitgalaxy/src/components/ui/StarView.js"],"names":["React","useDrop","styled","usePosition","CardView","observer","View","div","left","top","OverView","isOver","StarView","star","m","indent","y","canDrop","hover","drop","accept","item","monitor","console","log","collect","isActive","borderColor","x","base","ship","colony","hero","CardViewer","card","slot","isAbsent","SlotView","Slot","name","p","dropRef","a","getItem","destination","removeCard","put","place","Name"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {useDrop} from \"react-dnd\";\r\nimport styled from \"styled-components\";\r\nimport usePosition from \"../../state/hooks/usePosition\";\r\nimport CardView from \"./CardView\";\r\nimport {observer} from \"mobx-react-lite\";\r\n\r\nconst View = styled.div`\r\n  left: ${({left}) => left + \"px\"};\r\n  top: ${({top}) => top + \"px\"};\r\n\r\n`;\r\n\r\nconst OverView = styled.div`\r\n  // border-color: ${({isOver}) => isOver ? \"red\" : \"transparent\"};\r\n  border-width: 1px;\r\n  border-style: solid;\r\n\r\n  &:before, &:after {\r\n    // border-color: ${({isOver}) => isOver ? \"red\" : \"transparent\"};\r\n    border-width: 1px;\r\n    border-style: solid;\r\n  }\r\n`;\r\n\r\nconst StarView = ({star}) => {\r\n  const [, m] = usePosition();\r\n  const indent = star.y % 2 ? 0 : 7.75 * m;\r\n  const [{ isOver, canDrop, hover }, drop] = useDrop(() =>({\r\n    accept: \"CARD\",\r\n    \r\n    // drop: (item, monitor) => {\r\n    //   // let a = monitor.getItem();\r\n    //   // item.card.destination.removeCard(item.card);\r\n    //   // star.put(item.card, slot);\r\n    //   return {\r\n    //     place: star,\r\n    //     name: name,\r\n    //   };\r\n    // },\r\n    \r\n    hover(item, monitor) {\r\n      console.log('Hover')\r\n\r\n    },\r\n\r\n    collect: (monitor) => ({\r\n      isOver: monitor.isOver(),\r\n      \r\n      // isOver: !!monitor.isOver\r\n      \r\n    }),\r\n  }), [star]);\r\n\r\n  let isActive = hover;\r\n  console.log(hover)\r\n  let borderColor ='transparent';\r\n  if(isActive===true){\r\n    borderColor = 'red'\r\n    console.log(isActive)\r\n  }\r\n   // const [{isOver}, dropRef] = useDrop(() => ({\r\n  //   accept: \"CARD\",\r\n  //   drop: (item, monitor) => {\r\n  //     // let a = monitor.getItem();\r\n  //     // const parent = getParent(item.card, 2);\r\n  //     // parent.remove(item.card);\r\n  //     // debugger\r\n  //     // star.put(item.card, name);\r\n\r\n  //     // item.card.destination.removeCard(item.card);\r\n  //     // star.put(item.card);\r\n  //     return {\r\n  //       place: star,\r\n  //     };\r\n  //   },\r\n  //   collect: monitor => ({\r\n  //     isOver: !!monitor.isOver(),\r\n  //   }),\r\n  // }), [star.x, star.y]);\r\n\r\n  return (\r\n    <View \r\n     \r\n      className={\"Star\"} \r\n      left={star.x * m * 15.5 + indent} \r\n      top={star.y * m * 13.4 + m} \r\n      >\r\n      <OverView className=\"hexagon\" \r\n       ref={drop} \r\n      //  isOver={isOver} \r\n      style={{borderColor}}\r\n       >\r\n        <span><div className=\"inner lni lni-sun\"/></span>\r\n        {/* <Slot name={'base'} star={star} y={2} x={0}/> */}\r\n        {/* <Slot name={'colony'} star={star} y={2} x={7}/>\r\n        <Slot name={'ship'} star={star} y={6} x={0}/>\r\n        <Slot name={'hero'} star={star} y={6} x={7}/> */}\r\n      </OverView>\r\n\r\n      <CardViewer card={star.base(0)} y={3} x={0} slot={0}/>\r\n      <CardViewer card={star.base(1)} y={4} x={0} slot={1}/>\r\n      <CardViewer card={star.base(2)} y={5} x={0} slot={2}/>\r\n\r\n      <CardViewer card={star.ship(0)} y={6} x={0} slot={0}/>\r\n      <CardViewer card={star.ship(1)} y={6} x={1} slot={1}/>\r\n      <CardViewer card={star.ship(2)} y={6} x={2} slot={2}/>\r\n      <CardViewer card={star.ship(3)} y={6} x={3} slot={3}/>\r\n\r\n      <CardViewer card={star.colony(0)} y={3} x={8} slot={0}/>\r\n      <CardViewer card={star.colony(1)} y={4} x={8} slot={1}/>\r\n      <CardViewer card={star.colony(2)} y={5} x={8} slot={2}/>\r\n\r\n      <CardViewer card={star.hero(0)} y={7} x={7} slot={0}/>\r\n      <CardViewer card={star.hero(1)} y={8} x={7} slot={1}/>\r\n      <CardViewer card={star.hero(2)} y={9} x={7} slot={2}/>\r\n      <CardViewer card={star.hero(3)} y={10} x={7} slot={3}/>\r\n      {/* <CardViewer card={star.base(0)} y={3} x={0} slot={0}/>\r\n      <CardViewer card={star.base(1)} y={4} x={0.5} slot={1}/>\r\n      <CardViewer card={star.base(2)} y={5} x={1} slot={2}/>\r\n\r\n      <CardViewer card={star.ship(0)} y={8} x={0} slot={0}/>\r\n      <CardViewer card={star.ship(1)} y={9} x={0.5} slot={1}/>\r\n      <CardViewer card={star.ship(2)} y={10} x={1} slot={2}/>\r\n      <CardViewer card={star.ship(3)} y={11} x={1.5} slot={3}/>\r\n\r\n      <CardViewer card={star.colony(0)} y={3} x={7} slot={0}/>\r\n      <CardViewer card={star.colony(1)} y={4} x={7.5} slot={1}/>\r\n      <CardViewer card={star.colony(2)} y={5} x={8} slot={2}/>\r\n\r\n      <CardViewer card={star.hero(0)} y={8} x={7} slot={0}/>\r\n      <CardViewer card={star.hero(1)} y={9} x={7.5} slot={1}/>\r\n      <CardViewer card={star.hero(2)} y={10} x={8} slot={2}/>\r\n      <CardViewer card={star.hero(3)} y={11} x={8.5} slot={3}/> */}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst CardViewer = observer(({card, y, x, slot}) => {\r\n  if (card.isAbsent) {\r\n    // return \"\";\r\n    return(\r\n      <Slot y={y} x={x} card={card} slot={slot}></Slot>\r\n    ) ;\r\n  }\r\n\r\n  return (\r\n    <CardView card={card} y={y} x={x}/>\r\n  );\r\n});\r\n\r\nconst SlotView = styled.div`\r\n  position: absolute;\r\n  border-width: 4px;\r\n  border-style: solid;\r\n  border-color: ${({isOver}) => isOver ? \"white\" : \"transparent\"};\r\n  top: ${({y}) => y + \"px\"};\r\n  left: ${({x}) => x + \"px\"};\r\n  z-index: 2;\r\n  border-radius: 20px;\r\n  width: 300px;\r\n  height: 200px;\r\n`;\r\n\r\n// const Slot = observer(({name, star, y, x}) => {\r\nconst Slot = observer(({name, star, y, x, card, slot }) => {\r\n  // console.log(star.bases)\r\n  const [p] = usePosition(y, x);\r\n  const [{isOver}, dropRef] = useDrop(() => ({\r\n    accept: \"CARD\",\r\n    drop: (item, monitor) => {\r\n      let a = monitor.getItem();\r\n      // const parent = getParent(item.card, 2);\r\n      // parent.remove(item.card);\r\n      // debugger\r\n      item.card.destination.removeCard(item.card);\r\n      star.put(item.card, slot);\r\n\r\n      return {\r\n        place: star,\r\n        name: name,\r\n      };\r\n    },\r\n    collect: monitor => ({\r\n      isOver: !!monitor.isOver(),\r\n    }),\r\n  }), [x, y]);\r\n  \r\n  return (\r\n    <SlotView ref={dropRef} className={card.Name} y={p.y - 0} x={0 + p.x} isOver={isOver}/>\r\n   //  <SlotView ref={dropRef} className={name} y={p.y - 94} x={18 + p.x} isOver={isOver} />\r\n  );\r\n});\r\n\r\nexport default observer(StarView);\r\n"]},"metadata":{},"sourceType":"module"}