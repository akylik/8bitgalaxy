{"ast":null,"code":"import Card from \"./Card.js\";\nimport Direction from \"./Direction.js\";\n\nclass Pile {\n  constructor(type, direction) {\n    this._type = type;\n    this._direction = Direction.assert(direction);\n    this.absentCard = Card.assert('absent ' + type);\n    this._cards = [this.absentCard];\n  }\n\n  get cards() {\n    return this._cards;\n  }\n\n  get direction() {\n    return this._direction;\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  get size() {\n    return this._cards.length;\n  }\n\n  get top() {\n    return this._cards[this.size - 1];\n  } //   get top()       { return this._cards[this.size-1] ?? this.absentCard; }\n\n\n  get(i) {\n    var _this$_cards$i;\n\n    return (_this$_cards$i = this._cards[i]) !== null && _this$_cards$i !== void 0 ? _this$_cards$i : i === 0 ? this.top : null;\n  }\n\n  removeCard(card) {\n    return this._cards.reduce((acc, c, index) => {\n      if (card === c) {\n        acc.splice(-1, 1);\n      }\n\n      return acc;\n    }, this._cards);\n  }\n\n  putUnder(card) {\n    this._cards.unshift(Card.assert(card));\n  }\n\n  put(card) {\n    this._cards.push(Card.assert(card, this, this.label));\n  }\n\n}\n\nexport default Pile;","map":{"version":3,"sources":["C:/Users/a_kyl/Documents/GitHub/8bitgalaxy/src/Model/Pile.js"],"names":["Card","Direction","Pile","constructor","type","direction","_type","_direction","assert","absentCard","_cards","cards","size","length","top","get","i","removeCard","card","reduce","acc","c","index","splice","putUnder","unshift","put","push","label"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,SAAP,MAAsB,gBAAtB;;AAGA,MAAMC,IAAN,CAAW;AACTC,EAAAA,WAAW,CAACC,IAAD,EAAOC,SAAP,EAAkB;AAC3B,SAAKC,KAAL,GAAaF,IAAb;AACA,SAAKG,UAAL,GAAkBN,SAAS,CAACO,MAAV,CAAiBH,SAAjB,CAAlB;AACA,SAAKI,UAAL,GAAkBT,IAAI,CAACQ,MAAL,CAAY,YAAUJ,IAAtB,CAAlB;AACA,SAAKM,MAAL,GAAc,CAAC,KAAKD,UAAN,CAAd;AACD;;AAEQ,MAALE,KAAK,GAAO;AAAE,WAAO,KAAKD,MAAZ;AACjB;;AACY,MAATL,SAAS,GAAG;AAAE,WAAO,KAAKE,UAAZ;AAAyB;;AACnC,MAAJH,IAAI,GAAQ;AAAE,WAAO,KAAKE,KAAZ;AAAoB;;AAC9B,MAAJM,IAAI,GAAQ;AAAE,WAAO,KAAKF,MAAL,CAAYG,MAAnB;AAA4B;;AACvC,MAAHC,GAAG,GAAS;AAAE,WAAO,KAAKJ,MAAL,CAAY,KAAKE,IAAL,GAAU,CAAtB,CAAP;AAAkC,GAb3C,CAcX;;;AAEEG,EAAAA,GAAG,CAACC,CAAD,EAAa;AAAA;;AAAE,6BAAO,KAAKN,MAAL,CAAYM,CAAZ,CAAP,2DAA0BA,CAAC,KAAG,CAAJ,GAAQ,KAAKF,GAAb,GAAmB,IAA7C;AAAqD;;AAEvEG,EAAAA,UAAU,CAACC,IAAD,EAAO;AAAC,WAAO,KAAKR,MAAL,CAAYS,MAAZ,CAAmB,CAACC,GAAD,EAAMC,CAAN,EAASC,KAAT,KAAmB;AAC1D,UAAGJ,IAAI,KAAGG,CAAV,EAAa;AACVD,QAAAA,GAAG,CAACG,MAAJ,CAAW,CAAC,CAAZ,EAAe,CAAf;AACH;;AACD,aAAOH,GAAP;AACD,KALsB,EAKpB,KAAKV,MALe,CAAP;AAMjB;;AAGDc,EAAAA,QAAQ,CAACN,IAAD,EAAQ;AAAE,SAAKR,MAAL,CAAYe,OAAZ,CAAoBzB,IAAI,CAACQ,MAAL,CAAYU,IAAZ,CAApB;AAAyC;;AAE3DQ,EAAAA,GAAG,CAACR,IAAD,EAAO;AACT,SAAKR,MAAL,CAAYiB,IAAZ,CAAiB3B,IAAI,CAACQ,MAAL,CAAYU,IAAZ,EAAkB,IAAlB,EAAwB,KAAKU,KAA7B,CAAjB;AAAwD;;AA9BhD;;AAiCX,eAAe1B,IAAf","sourcesContent":["import Card from \"./Card.js\";\r\nimport Direction from \"./Direction.js\";\r\n\r\n\r\nclass Pile {\r\n  constructor(type, direction) {\r\n    this._type = type;\r\n    this._direction = Direction.assert(direction);\r\n    this.absentCard = Card.assert('absent '+type);\r\n    this._cards = [this.absentCard];\r\n  }\r\n\r\n  get cards()     { return this._cards;\r\n  }\r\n  get direction() { return this._direction; }\r\n  get type()      { return this._type; }\r\n  get size()      { return this._cards.length; }\r\n  get top()       { return this._cards[this.size-1]; }\r\n//   get top()       { return this._cards[this.size-1] ?? this.absentCard; }\r\n\r\n  get(i)          { return this._cards[i] ?? (i===0 ? this.top : null); }\r\n\r\n  removeCard(card) {return this._cards.reduce((acc, c, index) => {\r\n       if(card===c ){\r\n          acc.splice(-1, 1)\r\n      } \r\n      return acc;\r\n    }, this._cards);\r\n  }\r\n \r\n\r\n  putUnder(card)  { this._cards.unshift(Card.assert(card)); }\r\n\r\n  put(card) { \r\n   this._cards.push(Card.assert(card, this, this.label)); }\r\n}\r\n\r\nexport default Pile;\r\n"]},"metadata":{},"sourceType":"module"}